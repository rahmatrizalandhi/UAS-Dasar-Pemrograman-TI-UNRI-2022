<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>List Jurnal</title>
	<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
	<link type="text/css" rel="stylesheet" href="css/style.css"/>
</head>
<body>

<div id="app">
	<h1>Database Jurnal dengan Vanilla JS</h1>
	<table>
		<tr>
			<th v-for="t in titles"></th>
		</tr>
		<tr v-for="(b, i) in books" @click="update(i)">
			<td>{{b.id}}</td>
			<td>{{b.title}}</td>
			<td>{{b.isbn}}</td>
			<td>{{b.author}}</td>
		</tr>
	</table>
	<button @click="add()">Buat Jurnal Baru</button>

	<template v-if="isAdd">
		<div id="grey-background" @keyup.enter="newJurnal()">
		<div class="tabel" @keyup.enter="newJurnal()">
			<label for="title">Title</label>
			<input type="text" id="title" v-model="title" :class="[inputErr[0] ? 'error' : '']" @keyup.enter="newJurnal()">
			<label for="isbn">ISBN</label>
			<input type="text" id="isbn" v-model="isbn" :class="[inputErr[1] ? 'error' : '']" @keyup.enter="newJurnal()">
			<label for="auth">Author</label>
			<input type="text" id="auth" v-model="author" :class="[inputErr[2] ? 'error' : '']"@keyup.enter="newJurnal()">
			<button class="green" @click="newJurnal()">Tambah Jurnal</button>
			<button @click="cancelAdd">Batal</button>
		</div>
	</div>
	</template>

	<template v-if="isUpdate">
		<div id="grey-background" @keyup.enter="upJurnal(curId)">
			<div class="tabel" @keyup.enter="upJurnal(curId)">
			<label for="title">Title</label>
			<input type="text" id="title" v-model="title" :class="[inputErr[0] ? 'error' : '']" @keyup.enter="upJurnal()">
			<label for="isbn">ISBN</label>
			<input type="text" id="isbn" v-model="isbn" :class="[inputErr[1] ? 'error' : '']" @keyup.enter="upJurnal()">
			<label for="auth">Author</label>
			<input type="text" id="auth" v-model="author" :class="[inputErr[2] ? 'error' : '']"@keyup.enter="upJurnal()">
			<button class="green" @click="upJurnal(curId)">Update Jurnal</button>
			<button @click="cancelUpdate">Batal</button>
		</form>
	</div>
</template>
</div>	
<script type="application/javascript" src="js/application.js"></script>
<script type="application/javascript">
</script>
</body>
</html>